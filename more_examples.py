import ThermPy1D as TP1D
import numpy as np

a = TP1D.solid_layer(0.5e-3,30,1e7,1e-5,'Eurofer wall')
a2 = TP1D.solid_layer(0.5e-3,30,1e7,0,'Eurofer wall')
b = TP1D.fluid_layer(1e-3,480+273,1e4,1e4, 'He interlayer')
b2 = TP1D.fluid_layer(2e-3,480+273,1e4,1e4, 'He interlayer')
c = TP1D.solid_layer(0.2e-3,10,2e7,1e-5, 'Pipe coating')
BC1 = TP1D.boundary_condition('temperature', 'outer',T_inf=450+273, R=1e-6)
BC2 = TP1D.boundary_condition('fluid', 'inner', T_inf=600+273, h=1e4,label='inner He')
BC3 = TP1D.boundary_condition('fluid', 'outer', T_inf=400+273, h=1e4,label='outer He')
BC4 = TP1D.boundary_condition('fluid', 'inner', T_inf=400+273, h=1e4, label='Test')
BCHFout = TP1D.boundary_condition('heat flux', 'outer',q=1e6)
BCHFin = TP1D.boundary_condition('heat flux', 'inner',q=-1e6)
Example_A = TP1D.Radial1D(5e-3,[c,a,c,b,c,a,c],BC2,BCHFout)
Example_B = TP1D.Radial1D(5e-3,[c,a,c],BC3,BCHFout)
Example_C=TP1D.Radial1D(5e-3,[c,a,c],BC3,BC4)
c4_1=TP1D.solid_layer(0.5e-3,300,0,1e-5)
c4_2=TP1D.solid_layer(3.5e-3,30,1e8,0)
Comp_c4 = TP1D.Radial1D(1e3,[c4_1,c4_2,b,c4_1,c4_2],BC2,BC1)
linear = TP1D.Linear1D([c,a,c],BC3,BC4, width = 2 * np.pi)
fig_A = Example_A.plot_T(1000,1,1,1,0,1)
fig_B = Example_B.plot_T(1000,1,0,0,1,1)
fig_C = Example_C.plot_T(1000,1,1,1,0,1)
fig_linear = linear.plot_T(1000,1,1,1,0,1)
C_results = Example_C.results()
linear_results = linear.results()
fig_A.savefig('results\example_A.png', dpi=600 )
#A_results.to_json('results\example_A.json')
#A_results.to_csv('results\example_A.csv')
